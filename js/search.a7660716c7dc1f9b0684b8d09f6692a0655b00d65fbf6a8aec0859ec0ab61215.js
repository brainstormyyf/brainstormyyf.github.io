(()=>{var Zt=Object.create;var Xe=Object.defineProperty;var er=Object.getOwnPropertyDescriptor;var tr=Object.getOwnPropertyNames;var rr=Object.getPrototypeOf,nr=Object.prototype.hasOwnProperty;var ir=(w,r)=>()=>(r||w((r={exports:{}}).exports,r),r.exports);var sr=(w,r,a,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let f of tr(r))!nr.call(w,f)&&f!==a&&Xe(w,f,{get:()=>r[f],enumerable:!(c=er(r,f))||c.enumerable});return w};var ar=(w,r,a)=>(a=w!=null?Zt(rr(w)):{},sr(r||!w||!w.__esModule?Xe(a,"default",{value:w,enumerable:!0}):a,w));var et=ir((Ae,Te)=>{(function(w,r){typeof Ae=="object"&&typeof Te<"u"?Te.exports=r():typeof define=="function"&&define.amd?define(r):(w=typeof globalThis<"u"?globalThis:w||self,w.Fuse=r())})(Ae,function(){"use strict";function w(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,i)}return e}function r(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?w(Object(e),!0).forEach(function(i){v(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):w(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function a(t){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(t)}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function f(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Oe(i.key),i)}}function g(t,n,e){return n&&f(t.prototype,n),e&&f(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,n,e){return n=Oe(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function x(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&R(t,n)}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(t)}function R(t,n){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},R(t,n)}function me(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(t)}function K(t){var n=me();return function(){var i=I(t),s;if(n){var o=I(this).constructor;s=Reflect.construct(i,arguments,o)}else s=i.apply(this,arguments);return nt(this,s)}}function W(t){return it(t)||st(t)||at(t)||ot()}function it(t){if(Array.isArray(t))return pe(t)}function st(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function at(t,n){if(t){if(typeof t=="string")return pe(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return pe(t,n)}}function pe(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function ot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(t,n){if(typeof t!="object"||t===null)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var i=e.call(t,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Oe(t){var n=ct(t,"string");return typeof n=="symbol"?n:String(n)}function j(t){return Array.isArray?Array.isArray(t):Re(t)==="[object Array]"}var lt=1/0;function ht(t){if(typeof t=="string")return t;var n=t+"";return n=="0"&&1/t==-lt?"-0":n}function ut(t){return t==null?"":ht(t)}function N(t){return typeof t=="string"}function He(t){return typeof t=="number"}function dt(t){return t===!0||t===!1||ft(t)&&Re(t)=="[object Boolean]"}function Fe(t){return a(t)==="object"}function ft(t){return Fe(t)&&t!==null}function F(t){return t!=null}function ye(t){return!t.trim().length}function Re(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var dr="Extended search is not available",gt="Incorrect 'index' type",vt=function(n){return"Invalid value for key ".concat(n)},mt=function(n){return"Pattern length exceeds max of ".concat(n,".")},pt=function(n){return"Missing ".concat(n," property in key")},yt=function(n){return"Property 'weight' in key '".concat(n,"' must be a positive integer")},Ne=Object.prototype.hasOwnProperty,Lt=function(){function t(n){var e=this;c(this,t),this._keys=[],this._keyMap={};var i=0;n.forEach(function(s){var o=Pe(s);e._keys.push(o),e._keyMap[o.id]=o,i+=o.weight}),this._keys.forEach(function(s){s.weight/=i})}return g(t,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),t}();function Pe(t){var n=null,e=null,i=null,s=1,o=null;if(N(t)||j(t))i=t,n=ze(t),e=Le(t);else{if(!Ne.call(t,"name"))throw new Error(pt("name"));var h=t.name;if(i=h,Ne.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(yt(h));n=ze(h),e=Le(h),o=t.getFn}return{path:n,id:e,weight:s,src:i,getFn:o}}function ze(t){return j(t)?t:t.split(".")}function Le(t){return j(t)?t.join("."):t}function Mt(t,n){var e=[],i=!1,s=function o(h,l,u){if(F(h))if(!l[u])e.push(h);else{var m=l[u],d=h[m];if(!F(d))return;if(u===l.length-1&&(N(d)||He(d)||dt(d)))e.push(ut(d));else if(j(d)){i=!0;for(var L=0,y=d.length;L<y;L+=1)o(d[L],l,u+1)}else l.length&&o(d,l,u+1)}};return s(t,N(n)?n.split("."):n,0),i?e:e[0]}var bt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},wt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(n,e){return n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1}},_t={location:0,threshold:.6,distance:100},xt={useExtendedSearch:!1,getFn:Mt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},M=r(r(r(r({},wt),bt),_t),xt),St=/[^ ]+/g;function Et(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,e=new Map,i=Math.pow(10,n);return{get:function(o){var h=o.match(St).length;if(e.has(h))return e.get(h);var l=1/Math.pow(h,.5*t),u=parseFloat(Math.round(l*i)/i);return e.set(h,u),u},clear:function(){e.clear()}}}var Me=function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getFn,i=e===void 0?M.getFn:e,s=n.fieldNormWeight,o=s===void 0?M.fieldNormWeight:s;c(this,t),this.norm=Et(o,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}return g(t,[{key:"setSources",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=i,this._keysMap={},i.forEach(function(s,o){e._keysMap[s.id]=o})}},{key:"create",value:function(){var e=this;this.isCreated||!this.docs.length||(this.isCreated=!0,N(this.docs[0])?this.docs.forEach(function(i,s){e._addString(i,s)}):this.docs.forEach(function(i,s){e._addObject(i,s)}),this.norm.clear())}},{key:"add",value:function(e){var i=this.size();N(e)?this._addString(e,i):this._addObject(e,i)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var i=e,s=this.size();i<s;i+=1)this.records[i].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,i){return e[this._keysMap[i]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,i){if(!(!F(e)||ye(e))){var s={v:e,i,n:this.norm.get(e)};this.records.push(s)}}},{key:"_addObject",value:function(e,i){var s=this,o={i,$:{}};this.keys.forEach(function(h,l){var u=h.getFn?h.getFn(e):s.getFn(e,h.path);if(F(u)){if(j(u)){for(var m=[],d=[{nestedArrIndex:-1,value:u}];d.length;){var L=d.pop(),y=L.nestedArrIndex,b=L.value;if(F(b))if(N(b)&&!ye(b)){var _={v:b,i:y,n:s.norm.get(b)};m.push(_)}else j(b)&&b.forEach(function(S,$){d.push({nestedArrIndex:$,value:S})})}o.$[l]=m}else if(N(u)&&!ye(u)){var E={v:u,n:s.norm.get(u)};o.$[l]=E}}}),this.records.push(o)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),t}();function De(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.getFn,s=i===void 0?M.getFn:i,o=e.fieldNormWeight,h=o===void 0?M.fieldNormWeight:o,l=new Me({getFn:s,fieldNormWeight:h});return l.setKeys(t.map(Pe)),l.setSources(n),l.create(),l}function $t(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.getFn,i=e===void 0?M.getFn:e,s=n.fieldNormWeight,o=s===void 0?M.fieldNormWeight:s,h=t.keys,l=t.records,u=new Me({getFn:i,fieldNormWeight:o});return u.setKeys(h),u.setIndexRecords(l),u}function se(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.errors,i=e===void 0?0:e,s=n.currentLocation,o=s===void 0?0:s,h=n.expectedLocation,l=h===void 0?0:h,u=n.distance,m=u===void 0?M.distance:u,d=n.ignoreLocation,L=d===void 0?M.ignoreLocation:d,y=i/t.length;if(L)return y;var b=Math.abs(l-o);return m?y+b/m:b?1:y}function kt(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.minMatchCharLength,e=[],i=-1,s=-1,o=0,h=t.length;o<h;o+=1){var l=t[o];l&&i===-1?i=o:!l&&i!==-1&&(s=o-1,s-i+1>=n&&e.push([i,s]),i=-1)}return t[o-1]&&o-i>=n&&e.push([i,o-1]),e}var q=32;function At(t,n,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i.location,o=s===void 0?M.location:s,h=i.distance,l=h===void 0?M.distance:h,u=i.threshold,m=u===void 0?M.threshold:u,d=i.findAllMatches,L=d===void 0?M.findAllMatches:d,y=i.minMatchCharLength,b=y===void 0?M.minMatchCharLength:y,_=i.includeMatches,E=_===void 0?M.includeMatches:_,S=i.ignoreLocation,$=S===void 0?M.ignoreLocation:S;if(n.length>q)throw new Error(mt(q));for(var A=n.length,O=t.length,k=Math.max(0,Math.min(o,O)),C=m,H=k,P=b>1||E,Y=P?Array(O):[],z;(z=t.indexOf(n,H))>-1;){var Ue=se(n,{currentLocation:z,expectedLocation:k,distance:l,ignoreLocation:$});if(C=Math.min(Ue,C),H=z+A,P)for(var Z=0;Z<A;)Y[z+Z]=1,Z+=1}H=-1;for(var ee=[],ce=1,le=A+O,Qt=1<<A-1,U=0;U<A;U+=1){for(var he=0,V=le;he<V;){var Jt=se(n,{errors:U,currentLocation:k+V,expectedLocation:k,distance:l,ignoreLocation:$});Jt<=C?he=V:le=V,V=Math.floor((le-he)/2+he)}le=V;var Ge=Math.max(1,k-V+1),Se=L?O:Math.min(k+V,O)+A,te=Array(Se+2);te[Se+1]=(1<<U)-1;for(var D=Se;D>=Ge;D-=1){var ue=D-1,Qe=e[t.charAt(ue)];if(P&&(Y[ue]=+!!Qe),te[D]=(te[D+1]<<1|1)&Qe,U&&(te[D]|=(ee[D+1]|ee[D])<<1|1|ee[D+1]),te[D]&Qt&&(ce=se(n,{errors:U,currentLocation:ue,expectedLocation:k,distance:l,ignoreLocation:$}),ce<=C)){if(C=ce,H=ue,H<=k)break;Ge=Math.max(1,2*k-H)}}var Xt=se(n,{errors:U+1,currentLocation:k,expectedLocation:k,distance:l,ignoreLocation:$});if(Xt>C)break;ee=te}var Ee={isMatch:H>=0,score:Math.max(.001,ce)};if(P){var Je=kt(Y,b);Je.length?E&&(Ee.indices=Je):Ee.isMatch=!1}return Ee}function Tt(t){for(var n={},e=0,i=t.length;e<i;e+=1){var s=t.charAt(e);n[s]=(n[s]||0)|1<<i-e-1}return n}var je=function(){function t(n){var e=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.location,o=s===void 0?M.location:s,h=i.threshold,l=h===void 0?M.threshold:h,u=i.distance,m=u===void 0?M.distance:u,d=i.includeMatches,L=d===void 0?M.includeMatches:d,y=i.findAllMatches,b=y===void 0?M.findAllMatches:y,_=i.minMatchCharLength,E=_===void 0?M.minMatchCharLength:_,S=i.isCaseSensitive,$=S===void 0?M.isCaseSensitive:S,A=i.ignoreLocation,O=A===void 0?M.ignoreLocation:A;if(c(this,t),this.options={location:o,threshold:l,distance:m,includeMatches:L,findAllMatches:b,minMatchCharLength:E,isCaseSensitive:$,ignoreLocation:O},this.pattern=$?n:n.toLowerCase(),this.chunks=[],!!this.pattern.length){var k=function(Z,ee){e.chunks.push({pattern:Z,alphabet:Tt(Z),startIndex:ee})},C=this.pattern.length;if(C>q){for(var H=0,P=C%q,Y=C-P;H<Y;)k(this.pattern.substr(H,q),H),H+=q;if(P){var z=C-q;k(this.pattern.substr(z),z)}}else k(this.pattern,0)}}return g(t,[{key:"searchIn",value:function(e){var i=this.options,s=i.isCaseSensitive,o=i.includeMatches;if(s||(e=e.toLowerCase()),this.pattern===e){var h={isMatch:!0,score:0};return o&&(h.indices=[[0,e.length-1]]),h}var l=this.options,u=l.location,m=l.distance,d=l.threshold,L=l.findAllMatches,y=l.minMatchCharLength,b=l.ignoreLocation,_=[],E=0,S=!1;this.chunks.forEach(function(A){var O=A.pattern,k=A.alphabet,C=A.startIndex,H=At(e,O,k,{location:u+C,distance:m,threshold:d,findAllMatches:L,minMatchCharLength:y,includeMatches:o,ignoreLocation:b}),P=H.isMatch,Y=H.score,z=H.indices;P&&(S=!0),E+=Y,P&&z&&(_=[].concat(W(_),W(z)))});var $={isMatch:S,score:S?E/this.chunks.length:1};return S&&o&&($.indices=_),$}}]),t}(),B=function(){function t(n){c(this,t),this.pattern=n}return g(t,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return Ke(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return Ke(e,this.singleRegex)}}]),t}();function Ke(t,n){var e=t.match(n);return e?e[1]:null}var It=function(t){x(e,t);var n=K(e);function e(i){return c(this,e),n.call(this,i)}return g(e,[{key:"search",value:function(s){var o=s===this.pattern;return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),e}(B),Ct=function(t){x(e,t);var n=K(e);function e(i){return c(this,e),n.call(this,i)}return g(e,[{key:"search",value:function(s){var o=s.indexOf(this.pattern),h=o===-1;return{isMatch:h,score:h?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),e}(B),Ot=function(t){x(e,t);var n=K(e);function e(i){return c(this,e),n.call(this,i)}return g(e,[{key:"search",value:function(s){var o=s.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),e}(B),Ht=function(t){x(e,t);var n=K(e);function e(i){return c(this,e),n.call(this,i)}return g(e,[{key:"search",value:function(s){var o=!s.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),e}(B),Ft=function(t){x(e,t);var n=K(e);function e(i){return c(this,e),n.call(this,i)}return g(e,[{key:"search",value:function(s){var o=s.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[s.length-this.pattern.length,s.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),e}(B),Rt=function(t){x(e,t);var n=K(e);function e(i){return c(this,e),n.call(this,i)}return g(e,[{key:"search",value:function(s){var o=!s.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),e}(B),Be=function(t){x(e,t);var n=K(e);function e(i){var s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=o.location,l=h===void 0?M.location:h,u=o.threshold,m=u===void 0?M.threshold:u,d=o.distance,L=d===void 0?M.distance:d,y=o.includeMatches,b=y===void 0?M.includeMatches:y,_=o.findAllMatches,E=_===void 0?M.findAllMatches:_,S=o.minMatchCharLength,$=S===void 0?M.minMatchCharLength:S,A=o.isCaseSensitive,O=A===void 0?M.isCaseSensitive:A,k=o.ignoreLocation,C=k===void 0?M.ignoreLocation:k;return c(this,e),s=n.call(this,i),s._bitapSearch=new je(i,{location:l,threshold:m,distance:L,includeMatches:b,findAllMatches:E,minMatchCharLength:$,isCaseSensitive:O,ignoreLocation:C}),s}return g(e,[{key:"search",value:function(s){return this._bitapSearch.searchIn(s)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),e}(B),Ve=function(t){x(e,t);var n=K(e);function e(i){return c(this,e),n.call(this,i)}return g(e,[{key:"search",value:function(s){for(var o=0,h,l=[],u=this.pattern.length;(h=s.indexOf(this.pattern,o))>-1;)o=h+u,l.push([h,o-1]);var m=!!l.length;return{isMatch:m,score:m?0:1,indices:l}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),e}(B),be=[It,Ve,Ot,Ht,Rt,Ft,Ct,Be],We=be.length,Nt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Pt="|";function zt(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.split(Pt).map(function(e){for(var i=e.trim().split(Nt).filter(function(_){return _&&!!_.trim()}),s=[],o=0,h=i.length;o<h;o+=1){for(var l=i[o],u=!1,m=-1;!u&&++m<We;){var d=be[m],L=d.isMultiMatch(l);L&&(s.push(new d(L,n)),u=!0)}if(!u)for(m=-1;++m<We;){var y=be[m],b=y.isSingleMatch(l);if(b){s.push(new y(b,n));break}}}return s})}var Dt=new Set([Be.type,Ve.type]),jt=function(){function t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.isCaseSensitive,s=i===void 0?M.isCaseSensitive:i,o=e.includeMatches,h=o===void 0?M.includeMatches:o,l=e.minMatchCharLength,u=l===void 0?M.minMatchCharLength:l,m=e.ignoreLocation,d=m===void 0?M.ignoreLocation:m,L=e.findAllMatches,y=L===void 0?M.findAllMatches:L,b=e.location,_=b===void 0?M.location:b,E=e.threshold,S=E===void 0?M.threshold:E,$=e.distance,A=$===void 0?M.distance:$;c(this,t),this.query=null,this.options={isCaseSensitive:s,includeMatches:h,minMatchCharLength:u,findAllMatches:y,ignoreLocation:d,location:_,threshold:S,distance:A},this.pattern=s?n:n.toLowerCase(),this.query=zt(this.pattern,this.options)}return g(t,[{key:"searchIn",value:function(e){var i=this.query;if(!i)return{isMatch:!1,score:1};var s=this.options,o=s.includeMatches,h=s.isCaseSensitive;e=h?e:e.toLowerCase();for(var l=0,u=[],m=0,d=0,L=i.length;d<L;d+=1){var y=i[d];u.length=0,l=0;for(var b=0,_=y.length;b<_;b+=1){var E=y[b],S=E.search(e),$=S.isMatch,A=S.indices,O=S.score;if($){if(l+=1,m+=O,o){var k=E.constructor.type;Dt.has(k)?u=[].concat(W(u),W(A)):u.push(A)}}else{m=0,l=0,u.length=0;break}}if(l){var C={isMatch:!0,score:m/l};return o&&(C.indices=u),C}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,i){return i.useExtendedSearch}}]),t}(),ae=[];function Kt(){ae.push.apply(ae,arguments)}function we(t,n){for(var e=0,i=ae.length;e<i;e+=1){var s=ae[e];if(s.condition(t,n))return new s(t,n)}return new je(t,n)}var oe={AND:"$and",OR:"$or"},_e={PATH:"$path",PATTERN:"$val"},xe=function(n){return!!(n[oe.AND]||n[oe.OR])},Bt=function(n){return!!n[_e.PATH]},Vt=function(n){return!j(n)&&Fe(n)&&!xe(n)},qe=function(n){return v({},oe.AND,Object.keys(n).map(function(e){return v({},e,n[e])}))};function Ye(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.auto,s=i===void 0?!0:i,o=function h(l){var u=Object.keys(l),m=Bt(l);if(!m&&u.length>1&&!xe(l))return h(qe(l));if(Vt(l)){var d=m?l[_e.PATH]:u[0],L=m?l[_e.PATTERN]:l[d];if(!N(L))throw new Error(vt(d));var y={keyId:Le(d),pattern:L};return s&&(y.searcher=we(L,n)),y}var b={children:[],operator:u[0]};return u.forEach(function(_){var E=l[_];j(E)&&E.forEach(function(S){b.children.push(h(S))})}),b};return xe(t)||(t=qe(t)),o(t)}function Wt(t,n){var e=n.ignoreFieldNorm,i=e===void 0?M.ignoreFieldNorm:e;t.forEach(function(s){var o=1;s.matches.forEach(function(h){var l=h.key,u=h.norm,m=h.score,d=l?l.weight:null;o*=Math.pow(m===0&&d?Number.EPSILON:m,(d||1)*(i?1:u))}),s.score=o})}function qt(t,n){var e=t.matches;n.matches=[],F(e)&&e.forEach(function(i){if(!(!F(i.indices)||!i.indices.length)){var s=i.indices,o=i.value,h={indices:s,value:o};i.key&&(h.key=i.key.src),i.idx>-1&&(h.refIndex=i.idx),n.matches.push(h)}})}function Yt(t,n){n.score=t.score}function Ut(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.includeMatches,s=i===void 0?M.includeMatches:i,o=e.includeScore,h=o===void 0?M.includeScore:o,l=[];return s&&l.push(qt),h&&l.push(Yt),t.map(function(u){var m=u.idx,d={item:n[m],refIndex:m};return l.length&&l.forEach(function(L){L(u,d)}),d})}var X=function(){function t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;c(this,t),this.options=r(r({},M),e),this.options.useExtendedSearch,this._keyStore=new Lt(this.options.keys),this.setCollection(n,i)}return g(t,[{key:"setCollection",value:function(e,i){if(this._docs=e,i&&!(i instanceof Me))throw new Error(gt);this._myIndex=i||De(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){F(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},i=[],s=0,o=this._docs.length;s<o;s+=1){var h=this._docs[s];e(h,s)&&(this.removeAt(s),s-=1,o-=1,i.push(h))}return i}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.limit,o=s===void 0?-1:s,h=this.options,l=h.includeMatches,u=h.includeScore,m=h.shouldSort,d=h.sortFn,L=h.ignoreFieldNorm,y=N(e)?N(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Wt(y,{ignoreFieldNorm:L}),m&&y.sort(d),He(o)&&o>-1&&(y=y.slice(0,o)),Ut(y,this._docs,{includeMatches:l,includeScore:u})}},{key:"_searchStringList",value:function(e){var i=we(e,this.options),s=this._myIndex.records,o=[];return s.forEach(function(h){var l=h.v,u=h.i,m=h.n;if(F(l)){var d=i.searchIn(l),L=d.isMatch,y=d.score,b=d.indices;L&&o.push({item:l,idx:u,matches:[{score:y,value:l,norm:m,indices:b}]})}}),o}},{key:"_searchLogical",value:function(e){var i=this,s=Ye(e,this.options),o=function m(d,L,y){if(!d.children){var b=d.keyId,_=d.searcher,E=i._findMatches({key:i._keyStore.get(b),value:i._myIndex.getValueForItemAtKeyId(L,b),searcher:_});return E&&E.length?[{idx:y,item:L,matches:E}]:[]}for(var S=[],$=0,A=d.children.length;$<A;$+=1){var O=d.children[$],k=m(O,L,y);if(k.length)S.push.apply(S,W(k));else if(d.operator===oe.AND)return[]}return S},h=this._myIndex.records,l={},u=[];return h.forEach(function(m){var d=m.$,L=m.i;if(F(d)){var y=o(s,d,L);y.length&&(l[L]||(l[L]={idx:L,item:d,matches:[]},u.push(l[L])),y.forEach(function(b){var _,E=b.matches;(_=l[L].matches).push.apply(_,W(E))}))}}),u}},{key:"_searchObjectList",value:function(e){var i=this,s=we(e,this.options),o=this._myIndex,h=o.keys,l=o.records,u=[];return l.forEach(function(m){var d=m.$,L=m.i;if(F(d)){var y=[];h.forEach(function(b,_){y.push.apply(y,W(i._findMatches({key:b,value:d[_],searcher:s})))}),y.length&&u.push({idx:L,item:d,matches:y})}}),u}},{key:"_findMatches",value:function(e){var i=e.key,s=e.value,o=e.searcher;if(!F(s))return[];var h=[];if(j(s))s.forEach(function(b){var _=b.v,E=b.i,S=b.n;if(F(_)){var $=o.searchIn(_),A=$.isMatch,O=$.score,k=$.indices;A&&h.push({score:O,key:i,value:_,idx:E,norm:S,indices:k})}});else{var l=s.v,u=s.n,m=o.searchIn(l),d=m.isMatch,L=m.score,y=m.indices;d&&h.push({score:L,key:i,value:l,norm:u,indices:y})}return h}}]),t}();X.version="7.0.0",X.createIndex=De,X.parseIndex=$t,X.config=M,X.parseQuery=Ye,Kt(jt);var Gt=X;return Gt})});(()=>{let w=c=>{c.classList.remove("show"),c.setAttribute("aria-expanded","false")},r=c=>{c.classList.add("show"),c.setAttribute("aria-expanded","true")},a=c=>{if(c.classList.contains("show")){w(c);return}r(c)};document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",c=>{let f=c.target.closest(".search-dropdown-toggle");if(f){let v=f.closest(".search-dropdown");a(v),c.preventDefault();return}let g=c.target.closest(".search-dropdown-item");if(g){let v=g.closest(".search-dropdown"),x=v.hasAttribute("multiple"),I=g.getAttribute("data-value");x?(g.classList.contains("active")?g.classList.remove("active"):g.classList.add("active"),v.querySelector(".search-dropdown-item.active")?v.classList.add("active"):v.classList.remove("active")):(I?(v.setAttribute("data-value",I),v.classList.add("active")):(v.removeAttribute("data-value"),v.classList.remove("active")),v.querySelector(".search-dropdown-label").innerText=g.innerText,v.querySelectorAll(".search-dropdown-item").forEach(me=>{me.classList.remove("active")}),g.classList.add("active"));let R=new CustomEvent("change",{detail:{value:I}});v.dispatchEvent(R)}document.querySelectorAll(".search-dropdown.show").forEach(v=>{w(v)})})})})();var $e=class{keys={};events=[];attach(r,a){this.events.push({keys:r,callback:a})}press(r){if(r.type==="keydown"){this.keys[r.key]=!0;for(let a in this.events){let c=this.events[a];this.isPressed(c.keys)&&c.callback(r)}return}delete this.keys[r.key]}isPressed(r){if(r.length===0)return!1;for(let a in r)if(!(r[a]in this.keys))return!1;return!0}},Ze=new $e,re=Ze;(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{let w=r=>{Ze.press(r)};document.addEventListener("keydown",w),document.addEventListener("keyup",w)})})();var ke=class{modal(){return document.querySelector(".search-modal-container.active")}current(){let r=this.modal();return r?r.querySelector('.search-result[aria-selected="true"]'):document.querySelector('.search-container .search-result[aria-selected="true"]')}go(r){let a=this.current(),c;a&&(a.ariaSelected="false",c=r==="prev"?a.previousElementSibling:a.nextElementSibling),c=c??this.first(),c.focus(),c.ariaSelected="true"}first(){let r=this.modal();return r?r.querySelector(".search-result"):document.querySelector(".search-container .search-result")}prev(){this.go("prev")}next(){this.go("next")}};(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{let w=new ke;re.attach(["ArrowUp"],r=>{w.prev(),r.preventDefault()}),re.attach(["ArrowDown"],r=>{w.next(),r.preventDefault()})})})();var p={case_sensitive:!1,defaultLang:"zh-ch",distance:100,expand_results_meta:!1,filter_taxonomies:!0,filter_years:!0,i18n:{},icons:{expand:`<svg aria-hidden="true" class="bi bi-chevron-expandbi bi-chevron-expand hi-svg-inline" fill="currentColor" height="1rem" viewBox="0 0 16 16" width="1rem" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708m0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708"/>
</svg>`,heading:`<svg aria-hidden="true" class="bi bi-hashbi bi-hash hi-svg-inline" fill="currentColor" height="1.5rem" viewBox="0 0 16 16" width="1.5rem" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.39 12.648a1 1 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1 1 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.51.51 0 0 0-.523-.516.54.54 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532s.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531s.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/>
</svg>`,lang:`<svg aria-hidden="true" class="bi bi-translatebi bi-translate hi-svg-inline" fill="currentColor" height="1rem" viewBox="0 0 16 16" width="1rem" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286zm1.634-.736L5.5 3.956h-.049l-.679 2.022z"/>
  <path d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm7.138 9.995q.289.451.63.846c-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6 6 0 0 1-.415-.492 2 2 0 0 1-.94.31"/>
</svg>`,meta:`<svg aria-hidden="true" class="bi bi-info-circlebi bi-info-circle hi-svg-inline" fill="currentColor" height="1.5rem" viewBox="0 0 16 16" width="1.5rem" xmlns="http://www.w3.org/2000/svg">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
</svg>`,page:`<svg aria-hidden="true" class="bi bi-file-earmark-richtextbi bi-file-earmark-richtext hi-svg-inline" fill="currentColor" height="1.5rem" viewBox="0 0 16 16" width="1.5rem" xmlns="http://www.w3.org/2000/svg">
  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"/>
  <path d="M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5m0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5m1.639-3.708 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V8.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8s1.54-1.274 1.639-1.208M6.25 6a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"/>
</svg>`,search:`<svg aria-hidden="true" class="bi bi-searchbi bi-search hi-svg-inline" fill="currentColor" height="1.25rem" viewBox="0 0 16 16" width="1.25rem" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
</svg>`,sort:`<svg aria-hidden="true" class="bi bi-sort-downbi bi-sort-down hi-svg-inline" fill="currentColor" height="1rem" viewBox="0 0 16 16" width="1rem" xmlns="http://www.w3.org/2000/svg">
  <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
</svg>`,spinner:`<svg aria-hidden="true" class="bi bi-arrow-clockwisebi bi-arrow-clockwise hi-svg-inline" fill="currentColor" height="1.5rem" viewBox="0 0 16 16" width="1.5rem" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
  <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
</svg>`,taxonomies:`<svg aria-hidden="true" class="bi bi-tagsbi bi-tags hi-svg-inline" fill="currentColor" height="1rem" viewBox="0 0 16 16" width="1rem" xmlns="http://www.w3.org/2000/svg">
  <path d="M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"/>
  <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z"/>
</svg>`,year:`<svg aria-hidden="true" class="bi bi-calendar-checkbi bi-calendar-check hi-svg-inline" fill="currentColor" height="1rem" viewBox="0 0 16 16" width="1rem" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0"/>
  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
</svg>`},ignore_location:!0,index_all_pages:!1,index_content:!0,indices:["/search.json?v=25eb6e96fffc4e223143ba2883b45438"],langs:{"zh-ch":{lang:"zh-ch",name:"\u7B80\u4F53\u4E2D\u6587"}},lazy_loading:!0,location:0,max_results:100,min_match_char_length:1,modal_container:"body",modal_toggle_selector:".search-modal-toggle",paginate:20,shortcut_close:["Escape"],shortcut_search:["Control","k"],stall_threshold:300,taxonomies:{series:["\u73AF\u5883\u914D\u7F6E"],tags:["python","pytorch","\u6D4F\u89C8\u5668"]},taxonomyKeys:["series","tags"],threshold:.6,years:[]};var ie=class{constructor(r,a){this.translations=r;this.fallback=a}lang="";getLang(){return this.lang===""&&(this.lang=document.documentElement.getAttribute("lang")??this.fallback),this.lang}getTranslations(){let r=this.getLang();return this.translations[r]??this.getFallbackTranslations()}getFallbackTranslations(){return this.translations[this.fallback]}getFallbackTranslation(r){return this.getFallbackTranslations()[r]??""}translate(r,a,c=""){let f=this.getTranslations();if(!f)return c===""?r:c;let g=f[r]??this.getFallbackTranslation(r);if(!g)return c===""?r:c;if(!a)return g.other;let v=a.count===1?g.one:g.other;for(let x in a)v=v.replace(`{${x}}`,a[x]);return v}};var cr=new ie(p.i18n,p.defaultLang),T=cr;var tt=ar(et()),Ie=class{index;indexFailed=!1;initialized=!1;init(){if(this.initialized)return new Promise((a,c)=>{let f=setInterval(()=>{this.index?(clearInterval(f),a(!0)):this.indexFailed&&(clearInterval(f),c("Index fails"))},50)});this.initialized=!0;let r=new Array;for(let a in p.indices){let c=fetch(p.indices[a]).then(f=>f.json());r.push(c)}return Promise.all(r).then(a=>{let c=a[0];for(let f=1;f<a.length;f++)c=c.concat(a[f]);this.index=new tt.default(c,{isCaseSensitive:p.case_sensitive,minMatchCharLength:p.min_match_char_length,location:p.location,threshold:p.threshold,distance:p.distance,ignoreLocation:p.ignore_location,keys:this.keys(),includeMatches:!0,useExtendedSearch:!0,includeScore:!0})}).catch(a=>{throw this.indexFailed=!0,new Error(a)})}keys(){let r=["title","summary","headings.title","lang","year"];p.index_content&&r.push("content");for(let a in p.taxonomies)r.push(a);return r}query;results;search(r,a="",c="",f=[],g={}){let v=this.pattern(r,c,f,g),x=new Date().getTime();return new Promise(I=>{setTimeout(()=>{if(JSON.stringify(this.query)===JSON.stringify(v)){I({results:this.sort(this.results,a),time:new Date().getTime()-x});return}return this.results=this.index.search(v,{limit:p.max_results}),this.query=v,I({results:this.sort(this.results,a),time:new Date().getTime()-x})},1)})}pattern(r,a,c=[],f={}){if(a==="")return r;let g=[{$or:[{title:r},{summary:r},{content:r},{$path:"headings.title",$val:r}]}];if(a&&g.push({lang:"="+a}),c.length>0){let v=[];for(let x of c)v.push({year:`=${x}`});g.push({$or:v})}for(let v in f){if(f[v].length===0)continue;let x=[];for(let I of f[v])x.push({[v]:`="${I}"`});g.push({$and:x})}return{$and:g}}sort(r,a){switch(a){case"date_asc":r=r.sort((c,f)=>c.item.date-f.item.date);break;case"date_desc":r=r.sort((c,f)=>f.item.date-c.item.date);break}return r}},lr=new Ie,Ce=lr;var G=class{constructor(r,a){this.spinner=r;this.renderer=a;this.stallThreshold=p.stall_threshold}pageTitle;popstate=!1;ele;input;timeoutId=0;stallThreshold;language;sorting;years;modal=!0;render(){return`<form class="search-form">
  <div class="search-input-group">
    <span class="search-input-icon">${p.icons.search}</span>
    <span class="search-spinner">${p.icons.spinner}</span>
    <input type="search" name="q" class="search-input search-form-control" placeholder="${T.translate("input_placeholder")}" autocomplete="off" disabled/>
    <button class="search-modal-close" type="button">${T.translate("cancel")}</button>
  </div>
  <div class="search-form-meta">
    <div class="search-panel">
      ${this.renderLanguage()}
      ${this.renderSorting()}
      ${this.renderYears()}
      ${this.renderTaxonomies()}
      <button class="search-panel-action search-expand-toggle${p.expand_results_meta?" active":""}" title="Expand">
        <span class="search-panel-action-icon">${p.icons.expand}</span>
        <span class="search-panel-action-label">${T.translate("expand")}</span>
      </button>
    </div>
    <div class="search-stat"></div>
  </div>
</form>`}renderLanguage(){if(Object.keys(p.langs).length<2)return"";let r=document.documentElement.getAttribute("lang")??"",a=T.translate("all"),c=`<li class="search-dropdown-item${r?"":" active"}" data-value="">${a}</li>`;for(let f in p.langs){let g=p.langs[f],v="";g.lang===r&&(v=" active",a=g.name),c+=`<li class="search-dropdown-item${v}" data-value="${g.lang}">${g.name}</li>`}return`<div class="search-dropdown search-panel-action search-filter-lang${r?" active":""}" data-value="${r}">
  <button class="search-dropdown-toggle" type="button" aria-expanded="false" title="Languages">
    ${p.icons.lang}
    <span class="search-dropdown-label">${a}</span>
  </button>
  <ul class="search-dropdown-menu">${c}</ul>
</div>`}renderSorting(){if(p.langs.length<2)return"";let r=T.translate("sort_by_default");return`<div class="search-dropdown search-panel-action search-sorting">
  <button class="search-dropdown-toggle" type="button" aria-expanded="false" title="Sorting">
    ${p.icons.sort} <span class="search-dropdown-label">${r}</span>
  </button>
  <ul class="search-dropdown-menu">
    <li class="search-dropdown-item active" data-value="">${r}</li>
    <li class="search-dropdown-item" data-value="date_asc">${T.translate("sort_by_date_asc")}</li>
    <li class="search-dropdown-item" data-value="date_desc">${T.translate("sort_by_date_desc")}</li>
  </ul>
</div>`}renderYears(){if(p.years.length===0)return"";let r="";for(let c of p.years)r+=`<li class="search-dropdown-item" data-value="${c}">${c}</li>`;let a=T.translate("years");return`<div class="search-dropdown search-panel-action search-years" multiple>
        <button class="search-dropdown-toggle" type="button" aria-expanded="false" title="${a}">
          ${p.icons.year} <span class="search-dropdown-label">${a}</span>
        </button>
        <ul class="search-dropdown-menu">${r}</ul>
      </div>`}renderTaxonomies(){let r="";for(let a in p.taxonomies)r+=this.renderTaxonomy(a,p.taxonomies[a]);return r}renderTaxonomy(r,a){let c="";for(let g of a)c+=`<li class="search-dropdown-item" data-value="${g}">${g}</li>`;let f=T.translate("taxonomy_"+r,null,r);return`<div class="search-dropdown search-panel-action search-taxonomies search-taxonomies-${r}" multiple>
        <button class="search-dropdown-toggle" type="button" aria-expanded="false" title="${f}">
          ${p.icons.taxonomies} <span class="search-dropdown-label">${f}</span>
        </button>
        <ul class="search-dropdown-menu">${c}</ul>
      </div>`}initialized=!1;init(){if(this.initialized)return;this.initialized=!0,this.pageTitle=document.title,this.ele=document.querySelector(".search-form"),this.ele.addEventListener("submit",a=>{a.preventDefault(),this.submit()}),this.input=this.ele.querySelector(".search-input"),this.input.addEventListener("keyup",()=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.submit()},this.stallThreshold)}),this.input.addEventListener("search",()=>{this.submit()}),this.language=this.ele.querySelector(".search-filter-lang"),this.language?.addEventListener("change",()=>{this.submit()}),this.sorting=this.ele.querySelector(".search-sorting"),this.sorting.addEventListener("change",()=>{this.submit()}),this.years=this.ele.querySelector(".search-years"),this.years?.addEventListener("change",()=>{this.submit()}),this.ele.querySelectorAll(".search-taxonomies").forEach(a=>{a.addEventListener("change",()=>{this.submit()})}),Ce.init().then(()=>{this.input.removeAttribute("disabled")}).catch(a=>{throw this.input.value=T.translate("index_fails"),new Error(a)}).then(()=>{this.modal||(this.fillInputByURL(),this.submit())}).finally(()=>{this.focus(),this.spinner.hide()}),this.modal||window.addEventListener("popstate",()=>{this.popstate=!0,this.fillInputByURL(),this.submit()});let r=this.ele.querySelector(".search-expand-toggle");r?.addEventListener("click",a=>{r.classList.contains("active")?r.classList.remove("active"):r.classList.add("active"),this.renderer.expand(),a.preventDefault()})}fillInputByURL(){let a=new URLSearchParams(location.search).get("q");a&&(this.input.value=a.trim())}submit(){let r=this.getQuery();if(this.updatePage(r),r===""){this.renderer.render(r,[],0);return}this.spinner.show();let a=this.getSorting(),c=this.getLanguage(),f=this.getYears(),g=this.getTaxonomies();Ce.search(r,a,c,f,g).then(({results:v,time:x})=>{this.renderer.render(r,v,x)}).finally(()=>{this.spinner.hide()})}updatePage(r){if(this.modal||this.popstate)return;this.popstate=!1;let a=(r?`${r} - `:"")+this.pageTitle,c=`${window.location.pathname}?q=${encodeURIComponent(r)}`;window.history.pushState(null,a,c),document.title=a}focus(){this.input.focus()}setQuery(r){this.input.value=r}getQuery(){return this.input.value.trim()}getLanguage(){return this.language?this.language.getAttribute("data-value")??"":""}getSorting(){return this.sorting.getAttribute("data-value")??""}getYears(){let r=[];return this.years?.querySelectorAll(".search-dropdown-item.active").forEach(a=>{r.push(a.getAttribute("data-value")??"")}),r}getTaxonomies(){let r={};for(let a in p.taxonomies){let c=[];document.querySelectorAll(`.search-taxonomies-${a} .search-dropdown-item.active`).forEach(f=>{c.push(f.getAttribute("data-value")??"")}),r[a]=c}return r}};var Q=class{constructor(r){this.ele=r}getElement(){return this.ele instanceof HTMLElement||(this.ele=document.querySelector(this.ele)),this.ele}searchIcon;getSearchIcon(){return this.searchIcon||(this.searchIcon=this.getElement().previousElementSibling),this.searchIcon}hide(){setTimeout(()=>{this.getSearchIcon().classList.remove("disabled"),this.getElement().classList.add("disabled")},200)}show(){this.getSearchIcon().classList.add("disabled"),this.getElement().classList.remove("disabled")}};var J=class{constructor(r,a,c){this.container=r;this.statistics=a;this.spinner=c;this.paginate=Math.max(this.paginate,p.paginate)}initialized=!1;lang;page=1;paginate=20;query="";results;time=0;getContainer(){return this.container instanceof HTMLElement||(this.container=document.querySelector(this.container),p.expand_results_meta&&this.container.classList.add("expanded")),this.container}getStatistics(){return this.statistics instanceof HTMLElement||(this.statistics=document.querySelector(this.statistics)),this.statistics}getLang(){return this.lang||(this.lang=document.documentElement.getAttribute("lang")??p.defaultLang),this.lang}clean(){this.getContainer().innerHTML=""}icon(r){return r.kind in p.icons?p.icons[r.kind]:p.icons.page}taxonomies(r){let a="";for(let c of p.taxonomyKeys){let f=r[c];if(f)for(let g of f)a+=`<span class="search-result-taxonomy">${g}</span>`}return a}date(r){return r.date<=0?"":new Date(r.date*1e3).toLocaleDateString(this.getLang(),{dateStyle:"long"})}title(r){return this.highlight(r.item.title,r.matches.filter(a=>a.key==="title"))}desc(r){return!r.item.summary||r.item.summary===""?"":'<div class="search-result-desc">'+this.highlight(r.item.summary,r.matches.filter(a=>a.key==="summary"))+"</div>"}contentContextLength=20;content(r){if(!p.index_content||!r.item.content)return"";let a=r.matches.filter(g=>g.key==="content"),c=this.highlight(r.item.content,a),f=c.indexOf("<mark>");return f>0&&(c=(f>this.contentContextLength?"...":"")+c.substring(Math.max(0,f-this.contentContextLength))),`<div class="search-result-content-content">${c}</div>`}highlight(r,a){if(a.length===0)return r;let c="",f=0;for(let g in a){let v=a[g];for(let x in v.indices){let I=Math.max(f,v.indices[x][0]),R=v.indices[x][1]+1;I>=R||(c+=`${r.substring(f,I)}<mark>${r.substring(I,R)}</mark>`,f=R)}}return c+=r.substring(f),c}render(r,a,c){this.init(),this.clean(),this.getContainer().parentElement.scrollTop=0,this.page=1,this.results=a,this.time=c,this.query=r,this.renderStat(),this.renderPage()}expand(){let r=this.getContainer();r.classList.contains("expanded")?r.classList.remove("expanded"):r.classList.add("expanded")}init(){if(this.initialized)return;this.initialized=!0;let r=this.getContainer(),a=r.parentElement;a?.addEventListener("scroll",()=>{a.scrollHeight-a.scrollTop===a.clientHeight&&this.loadMore()});let c=g=>{for(let v of g)if(v.type==="childList")for(let x of v.addedNodes)x.querySelector(".search-result-action-meta")?.addEventListener("click",R=>{this.toggleMeta(x.querySelector(".search-result-meta")),R.preventDefault()}),x.addEventListener("mousemove",()=>{this.activeResult(x)})};new MutationObserver(c).observe(r,{childList:!0})}activeResult(r){r.ariaSelected!=="true"&&(this.getContainer().querySelectorAll(".search-result").forEach(a=>{a.ariaSelected="false"}),r.ariaSelected="true")}toggleMeta(r){if(r.classList.contains("show")){r.classList.remove("show");return}r.classList.add("show")}renderStat(){let r=this.getStatistics();if(this.query===""){r.innerHTML="";return}r.innerHTML=T.translate("search_stat",{count:this.results.length,total:`<span class="search-stat-results">${this.results.length}</span>`,time:this.prettifyTime()})}prettifyTime(){return this.time>=100?parseFloat((this.time/1e3).toFixed(2))+"s":this.time+"ms"}score(r){return((1-r)*100).toFixed(0)+"%"}loadMore(){this.page*this.paginate>this.results.length||(this.spinner.show(),new Promise(r=>{setTimeout(()=>{r(this.renderPage(++this.page))},1)}).finally(()=>{this.spinner.hide()}))}renderPage(r=1){let a=r*this.paginate,c=a-this.paginate,f="";for(let g=c;g<this.results.length&&g<a;g++){let v=this.results[g];f+=`<a title="${v.item.title}" href="${v.item.url}" class="search-result" aria-selected="false">
  <div class="search-result-icon">${this.icon(v.item)}</div>
  <div class="search-result-content">
    <div class="search-result-title">${this.title(v)}</div>
    ${this.desc(v)}
  </div>
  <div class="search-result-meta">
    <span class="search-result-score">${this.score(v.score)}</span>
    <span class="search-result-lang">${v.item.lang}</span>
    <span class="search-result-date">${this.date(v.item)}</span>
    ${this.taxonomies(v.item)}
    ${this.content(v)}
  </div>
  <div class="search-result-actions">
    <div class="search-result-action search-result-action-meta">${p.icons.meta}</div>
  </div>
</a>`,f+=this.renderHeadings(v)}this.getContainer().insertAdjacentHTML("beforeend",f)}renderHeadings(r){if(!r.item.headings||r.item.headings.length==0)return"";let a=r.matches.filter(f=>f.key==="headings.title");if(a.length==0)return"";let c="";for(let f in r.item.headings){let g=r.item.headings[f];for(let v in a)a[v].value===g.title&&(c+=`<a title="${g.title} - ${r.item.title}" href="${r.item.url}#${g.anchor}" class="search-result search-result-heading">
  <div class="search-result-icon search-result-heading-icon">${p.icons.heading}</div>
  <div class="search-result-content">
    <div class="search-result-title">${this.highlight(g.title,[a[v]])}</div>
    <div class="search-result-desc">${r.item.title}</div>
  </div>
</a>`)}return c}};var de={kbds:["\u2191","\u2193"],action:T.translate("to_navigate")},fe={kbds:["\u23CE"],action:T.translate("to_select")},ne=class{constructor(r){this.shortcuts=r}render(){let r="";for(let a in this.shortcuts){let c=this.shortcuts[a];r+=`<span class="search-shortcut">
${this.renderKbds(c.kbds)}
<span class="search-shortcut-action">${c.action}</span>
</span>`}return`<div class="search-shortcuts">${r}</div>`}renderKbds(r,a=!1){let c="";for(let f of r){if(f instanceof Array){c+=this.renderKbds(f,!0);continue}let g=`<kbd class="search-shortcut-kbd">${f}</kbd>`;c+=a?`<span class="search-shortcut-kbds">${g}</span>`:g}return c}};var hr={kbds:[p.shortcut_search],action:T.translate("to_search")},ur={kbds:[p.shortcut_close],action:T.translate("to_close")},ge=class{wrapper;container;form;shortcuts;constructor(){let r=new Q(".search-modal .search-spinner"),a=new J(".search-modal .search-results",".search-modal .search-stat",r);this.form=new G(r,a),this.shortcuts=new ne([ur,hr,de,fe])}init(){this.wrapper=document.querySelector(p.modal_container),this.render(),p.lazy_loading===!1&&this.form.init(),this.container.addEventListener("click",r=>{!r.target||!(r.target instanceof HTMLElement)||(r.target.closest(".search-modal")||(this.hide(),r.preventDefault()),r.target.closest(".search-result")&&this.hide())}),document.querySelectorAll(p.modal_toggle_selector).forEach(r=>{r.addEventListener("click",()=>{this.show()})}),this.container.querySelectorAll(".search-modal-close").forEach(r=>{r.addEventListener("click",()=>{this.hide()})}),p.shortcut_close.length>0&&re.attach(p.shortcut_close,()=>{this.hide()}),p.shortcut_search.length>0&&re.attach(p.shortcut_search,r=>{r.preventDefault(),this.show()})}render(){this.container=document.createElement("div"),this.container.className="search-modal-container",this.container.innerHTML=`<div class="search-modal">
  <div class="search-modal-header">${this.form.render()}</div>
  <div class="search-modal-body"><div class="search-results"></div></div>
  ${this.renderFooter()}
</div>`,this.wrapper.appendChild(this.container)}renderFooter(){return`<div class="search-modal-footer">${this.shortcuts.render()}</div>`}hide(){document.body.classList.remove("search-modal-active"),this.container.classList.remove("active")}show(){this.form.init(),document.body.classList.add("search-modal-active"),this.container.classList.add("active"),this.form.focus()}};(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{p.modal_container!==""&&new ge().init()})})();var ve=class{container;form;shortcuts;constructor(){let r=document.querySelector(".search-container");if(!r)return;this.container=r;let a=new Q(".search-container .search-spinner"),c=new J(".search-container .search-results",".search-container .search-stat",a);this.form=new G(a,c),this.form.modal=!1,this.shortcuts=new ne([de,fe]),this.render()}render(){let r=`<div class="search-header">${this.form.render()}</div>
<div class="search-body"><div class="search-results"></div></div>
<div class="search-footer">${this.shortcuts.render()}</div>`;this.container.insertAdjacentHTML("beforeend",r),this.form.init()}};(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{new ve})})();})();
